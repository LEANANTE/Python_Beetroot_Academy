"""
Домашнє завдання: Бінарний пошук (рекурсія)
Алгоритми пошуку та хешування
"""


def binary_search_recursive(arr, key, left=0, right=None):
    """
    Рекурсивний бінарний пошук.
    
    Args:
        arr: відсортований масив
        key: шукане значення
        left: лівий індекс (за замовчуванням 0)
        right: правий індекс (за замовчуванням останній елемент)
    
    Returns:
        індекс елемента або -1 якщо не знайдено
    
    Складність:
        Часова: O(log n)
        Просторова: O(log n) через рекурсію
    """
    # Ініціалізація правої межі при першому виклику
    if right is None:
        right = len(arr) - 1
    
    # Базовий випадок: елемент не знайдено
    if left > right:
        return -1
    
    # Знаходимо середину
    mid = (left + right) // 2
    
    # Базовий випадок: знайшли елемент
    if arr[mid] == key:
        return mid
    
    # Рекурсивний випадок: шукаємо в лівій або правій половині
    if key < arr[mid]:
        return binary_search_recursive(arr, key, left, mid - 1)
    else:
        return binary_search_recursive(arr, key, mid + 1, right)


# ===================== ТЕСТУВАННЯ =====================
if __name__ == "__main__":
    # Тестовий масив (має бути відсортованим!)
    arr = [1, 3, 5, 7, 9, 11, 13, 15, 17, 19]
    
    print("=" * 50)
    print("БІНАРНИЙ ПОШУК (РЕКУРСІЯ)")
    print("=" * 50)
    print(f"Масив: {arr}")
    print("-" * 50)
    
    # Тести
    test_cases = [7, 1, 19, 13, 8, 0, 20]
    
    for key in test_cases:
        result = binary_search_recursive(arr, key)
        if result != -1:
            print(f"Пошук {key:2d}: знайдено на індексі {result}")
        else:
            print(f"Пошук {key:2d}: не знайдено")
    
    print("-" * 50)
    print("\nПояснення алгоритму:")
    print("1. Перевіряємо середній елемент масиву")
    print("2. Якщо це шуканий елемент — повертаємо індекс")
    print("3. Якщо шукане менше — рекурсивно шукаємо в лівій половині")
    print("4. Якщо шукане більше — рекурсивно шукаємо в правій половині")
    print("5. Якщо масив пустий (left > right) — елемент не знайдено")
